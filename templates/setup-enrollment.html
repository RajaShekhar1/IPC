{% extends "base.html" %}
{% set active_page = 'nav_enroll' -%}
{% block title %} - Home{% endblock %}

{% block head %}
 {{ super() }}
<!-- page-specific header data -->
    
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
<!-- ace styles -->
<link href="{{ url_for('static', filename='css/ace-fonts.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='css/ace.min.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='css/five_star_ace_overlay.css') }}" rel="stylesheet">

<!-- custom css -->
<link href="{{ url_for('static', filename='css/five_star.css') }}" rel="stylesheet">


{% endblock %}

{% block content %}

{% set compliance_has_approved_remote_enrollment = False %}

<div class="row">
  <div class="col-xs-12">
    <h3>Launch an Enrollment</h3>
    <p>Enter the information below for the case setup, the enrollee data, and proceed with enrollment interview.</p>

    <form class="enrollment-form form-horizontal" action="{{ url_for('in_person_enrollment') }}" method="POST">
      <div class="clearfix"></div>
      <div class="form-group">
	<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="enrollmentState">Product to enroll</label>
	<div class="col-xs-12 col-sm-9">
	  <select id="productID" name="productID" class="select1">
	    <option value="">&nbsp;</option>
	    <option value="FPPTI">Family Protection Plan - Term to 100</option>
	    <option value="FPPCI">Family Protection Plan - with Critical Illness</option>
	    <option value="CIEMP" disabled="">Group Critical Illness (coming soon)</option>
	    <option value="FPPGI" disabled="">Voluntary Group Life (coming soon)</option>
	  </select>
	</div>
      </div>

      <div class="space-2"></div>

      <div class="form-group">
	<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="enrollmentState">Location of this enrollment</label>
	<div class="col-xs-12 col-sm-9">
	  <select id="enrollmentState" name="enrollmentState" class="select1">
	    <option value="">&nbsp;</option>
	    {% if compliance_has_approved_remote_enrollment %}
	    <option value="XX">None - Employee will select</option>
	    {% endif %}
	    <option value="AL">Alabama</option>
	    <option value="AK">Alaska</option>
	    <option value="AZ">Arizona</option>
	    <option value="AR">Arkansas</option>
	    <option value="CA">California</option>
	    <option value="CO" disabled="">Colorado</option>
	    <option value="CT" disabled="">Connecticut</option>
	    <option value="DE">Delaware</option>
	    <option value="FL" disabled="">Florida</option>
	    <option value="GA">Georgia</option>
	    <option value="HI">Hawaii</option>
	    <option value="ID">Idaho</option>
	    <option value="IL" disabled="">Illinois</option>
	    <option value="IN" disabled="">Indiana</option>
	    <option value="IA">Iowa</option>
	    <option value="KS">Kansas</option>
	    <option value="KY">Kentucky</option>
	    <option value="LA">Louisiana</option>
	    <option value="ME" disabled="">Maine</option>
	    <option value="MD" disabled="">Maryland</option>
	    <option value="MA" disabled="">Massachusetts</option>
	    <option value="MI">Michigan</option>
	    <option value="MN" disabled="">Minnesota</option>
	    <option value="MS">Mississippi</option>
	    <option value="MO" disabled="">Missouri</option>
	    <option value="MT">Montana</option>
	    <option value="NE">Nebraska</option>
	    <option value="NV">Nevada</option>
	    <option value="NH" disabled="">New Hampshire</option>
	    <option value="NJ" disabled="">New Jersey</option>
	    <option value="NM">New Mexico</option>
	    <option value="NY" disabled="">New York</option>
	    <option value="NC" disabled="">North Carolina</option>
	    <option value="ND" disabled="">North Dakota</option>
	    <option value="OH" disabled="">Ohio</option>
	    <option value="OK">Oklahoma</option>
	    <option value="OR">Oregon</option>
	    <option value="PA" disabled="">Pennsylvania</option>
	    <option value="RI">Rhode Island</option>
	    <option value="SC">South Carolina</option>
	    <option value="SD">South Dakota</option>
	    <option value="TN">Tennessee</option>
	    <option value="TX">Texas</option>
	    <option value="UT">Utah</option>
	    <option value="VT">Vermont</option>
	    <option value="VA">Virginia</option>
	    <option value="WA">Washington</option>
	    <option value="WV">West Virginia</option>
	    <option value="WI">Wisconsin</option>
	    <option value="WY">Wyoming</option>
	  </select>
	</div>
      </div><!-- /.form-group /Case Setup-->      

      <div class="space-2"></div>
	
      <div class="form-group">
	<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="companyName">Company Name</label>
	<div class="col-xs-12 col-sm-9">
	  <input type="text" id="companyName" name="companyName" class="col-xs-12 col-sm-9"/>
	</div>
      </div>
      <div class="space-2"></div>
	
      <div class="row form-group">
        <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="eeFName">Employee Name</label>        
        <div class="col-xs-12 col-sm-9">
          <input type="text" id="eeFName" name="eeFName" placeholder="First Name"/>
          <input type="text" id="eeLName" name="eeLName" placeholder="Last Name"/>
        </div>
      </div>

      <div class="space-2"></div>

      <div class="row form-group">
	<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="email">Email Address:</label>
	<div class="col-xs-12 col-sm-9">
	    <input type="email" name="email" id="email" class="col-xs-12 col-sm-6" />
	</div>
      </div>

      <div class="space-2"></div>
      
    
    
    <div class="space-2"></div>
    
{% set compliance_has_approved_remote_enrollment = False %}
    {% if compliance_has_approved_remote_enrollment %}
    <div class="row">
      <div class="col-xs-12 col-sm-6">
	<p class="center"><button type="submit" class="btn btn-lg btn-info" id="in-person-enrollment-btn">
	    <i class="icon icon-user align-top bigger-110"></i>Enroll in-person</button></p>
      </div>
      <div class="col-xs-12 col-sm-6">
	<p class="center"><button type="button" class="btn btn-lg btn-success" id="email-enrollment-btn">
	    <i class="icon icon-envelope align-top bigger-110"></i>Enroll via email</a></p>
      </div>
    </div>
   {% else %}
    <div class="row">
      <div class="col-xs-12">
	    <p class="center"><button type="submit" class="btn btn-lg btn-info" id="in-person-enrollment-btn">
	    <i class="icon icon-user align-top bigger-110"></i>Proceed to enrollment</button></p>
      </div>
    </div>
    {% endif %}
    
</form>

  </div><!-- /.col-xs12 -->
</div><!-- /.row -->



{% endblock %}

<!-- basic scripts -->

{% block js_footer %}
{{ super() }}

<!-- page-specific footer scripts -->

<script src="{{ url_for('static', filename='js/jquery.mobile.custom.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/typeahead-bs2.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/knockout-3.1.0.debug.js') }}"></script>
      
<!-- page specific plugin scripts -->

<script src="{{ url_for('static', filename='js/jquery.validate.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/additional-methods.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootbox.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.maskedinput.min.js') }}"></script>

<!-- ace scripts ->

<script src="{{ url_for('static', filename='js/ace-elements.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/ace.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/ace-extra.min.js') }}"></script>  -->

<!-- inline scripts related to this page ->
<script src="{{url_for('static', filename='js/handlebars-v1.3.0.js')}}"></script>  -->

{% set compliance_has_approved_remote_enrollment = False %}
{% if compliance_has_approved_remote_enrollment %}
<script type="text/javascript">
    jQuery(function($) {
  
        var email_btn = $("#email-enrollment-btn");
        email_btn.on("click", function() {
            email_btn.prop('disabled', true);
            $.ajax("{{url_for('email_enrollment')}}", {
                data: $(".enrollment-form").serialize(),
                error: function() {
                    bootbox.dialog({
		        message: "There was a problem in sending the email.  Please check the email address, or contact the Enrollment System administrator if you have further problems.",
		        buttons: {
		            "success": {
		                "label": "OK",
		                "className": "btn-sm btn-primary"
		            }
		        }
		    });
    
                    <!-- alert("There was a problem sending the email."); -->
                    email_btn.prop('disabled', false);
                },
                success: function() {
                    <!-- alert("The enrollment email has been sent to '"+$('#email').val()+"'"); -->
                    bootbox.dialog({
		        message: $('#eeFName').val() + " " + $('#eeLName').val() + " (" + $('#email').val() + ") will receive a link to the application via email.  The signed application will queue in your agent applications inbox requiring your signature prior to processing.",
		        buttons: {
		            "success": {
		                "label": "OK",
		                "className": "btn-sm btn-primary"
		            }
		        }
		    });
		    
		    email_btn.prop('disabled', false);
		    $('#email').val("")
		    $('#eeFName').val("")
		    $('#eeLName').val("")
                },
                // expected return data type
                dataType: "json",
                method: "POST"
            });
        });
        
  })
</script>
{% endif %}

{% endblock %}
